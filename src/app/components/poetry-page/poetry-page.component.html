<article class="page-container">
  <app-header />

  <section class="page-content">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-icon-container">
        <span class="icon-[iconoir--flower] hero-icon"></span>
        <h1 class="hero-title">harawihark</h1>
      </div>
      <p class="hero-subtitle">advanced syllable-meter checker with phonetic analysis</p>
    </div>

    <!-- Editor Section -->
    <div class="editor-section">
      <app-poem-editor />
    </div>

    <!-- Word Suggestions Section -->
    @if (analyzer.wordAlternatives(); as alternatives) {
    <div class="suggestions-section">
      <app-word-suggestions [data]="alternatives" (replaceWord)="onReplaceWord($event)"
        (closeSuggestions)="onCloseSuggestions()" />
    </div>
    }

    <!-- Main Results Section -->
    @if (analyzer.result(); as result) {
    <div class="results-section">
      <app-tabs [tabs]="analysisTabs()" [selectedTab]="selectedAnalysisTab()"
        (tabChange)="onAnalysisTabChange($event)" />

      @switch (selectedAnalysisTab()) { @case ('structure') {
      <app-poem-results [result]="result" (wordSelected)="onWordSelected($event)" />
      } @case ('rhythm') {
      <app-meter-analysis-section [result]="result" />
      } @case ('quality') { @if (analyzer.qualityMetrics()) {
      <app-poem-quality [metrics]="analyzer.qualityMetrics()!" />
      } @else {
      <app-card padding="large">
        <div class="text-center py-8">
          <p class="text-onSurfaceVariant">Click "Assess Quality" to see quality metrics</p>
        </div>
      </app-card>
      } } @case ('stats') {
      <app-quick-stats-panel [stats]="getQuickStats()" />
      } }

      <!-- Botones de anÃ¡lisis manteniendo la funcionalidad existente -->
      <div class="analysis-actions">
        <div class="actions-row">
          <app-button variant="primary" size="medium" label="assess quality" icon="icon-[iconoir--star]"
            (clicked)="onAssessQuality()" />

          <app-button variant="outline" size="medium" label="analyze rhythm" icon="icon-[iconoir--music-double]"
            (clicked)="onShowMeterAnalysis()" />

          <app-button variant="outline" size="medium" label="export poem" icon="icon-[iconoir--cloud-download]"
            (clicked)="onExportPoem()" />
        </div>
      </div>
    </div>
    } @else {
    <!-- Empty State -->
    <div class="empty-state-section">
      <app-card padding="large">
        <div class="empty-content">
          <span class="icon-[iconoir--flower] empty-icon"></span>
          <h3 class="empty-title">ready to analyze</h3>
          <p class="empty-description">
            Write your poem or load an example to see syllable analysis and suggestions
          </p>
        </div>
      </app-card>
    </div>
    }

    <!-- Info Section -->
    <div class="info-section">
      <div class="info-content">
        <span class="icon-[iconoir--light-bulb] info-icon"></span>
        <div class="info-text">
          <h4 class="info-title">how it works</h4>
          <p class="info-description">
            Harawihark uses advanced phonetic analysis to count syllables accurately, detect rhyme
            schemes, and provide intelligent suggestions for improving your poetry.
          </p>
          <ul class="info-features">
            <li>
              <span class="icon-[iconoir--sound-high] feature-icon"></span>
              Real-time syllable counting with RiTa.js
            </li>
            <li>
              <span class="icon-[iconoir--music-double] feature-icon"></span>
              Advanced meter analysis (iambic, trochaic, etc.)
            </li>
            <li>
              <span class="icon-[iconoir--star] feature-icon"></span>
              Quality assessment with detailed metrics
            </li>
            <li>
              <span class="icon-[iconoir--book-stack] feature-icon"></span>
              8 different poetic forms supported
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <app-footer />
</article>