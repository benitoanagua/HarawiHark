<div class="multiline-input-wrapper">
  <div class="notebook-editor" [class.disabled]="disabled" [class]="fontSizeClass">
    <div #linesContainer class="lines-container">
      @for (line of lines(); track line.number; let index = $index) {
        <div class="line-row" 
             [class.focused]="focusedLineIndex() === index">
          
          <div class="syllable-count" 
               [class]="getSyllableCountClass(line)">
            {{ line.syllables }}/{{ line.expectedSyllables }}
          </div>

          <div class="line-input-container">
            <input
              [id]="id + '-line-' + index"
              type="text"
              class="line-input"
              [placeholder]="index === 0 ? placeholder : 'Continue writing...'"
              [value]="line.text"
              [disabled]="disabled"
              (input)="handleLineInput($event, index)"
              (focus)="onLineFocus(index)"
              (blur)="onLineBlur()"
              autocomplete="off"
              spellcheck="false"
              [class]="fontSizeClass"
            />
          </div>
        </div>
      }
    </div>
  </div>

  @if (error) {
    <span class="input-error-text">{{ error }}</span>
  }
</div>